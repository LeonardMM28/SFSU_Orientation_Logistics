{"ast":null,"code":"// Edit_OL_Uniforms.js\nimport React,{useState,useEffect}from\"react\";import axios from\"axios\";import{useParams,useNavigate}from\"react-router-dom\";import{FiArrowLeftCircle}from\"react-icons/fi\";import\"./Add_Edit_OL_Uniforms.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Edit_OL_Uniforms(){const{itemId}=useParams();const[name,setName]=useState(\"\");const[picture,setPicture]=useState(null);const category=\"UNIFORMS\";const[locationAnnex,setLocationAnnex]=useState(\"\");const[quantityAnnex,setQuantityAnnex]=useState(0);const[locationHQ,setLocationHQ]=useState(\"\");const[quantityHQ,setQuantityHQ]=useState(0);const[imagePreview,setImagePreview]=useState(null);const navigate=useNavigate();useEffect(()=>{const fetchItem=async()=>{try{const response=await axios.get(\"http://localhost:3000/items/\".concat(itemId),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}});const item=response.data;setName(item.name);setLocationAnnex(item.location_annex);setQuantityAnnex(item.quantity_annex);setLocationHQ(item.location_hq);setQuantityHQ(item.quantity_hq);setImagePreview(item.image);}catch(error){console.error(\"Error fetching item:\",error);}};fetchItem();},[itemId]);const handleImageChange=event=>{const file=event.target.files[0];if(file){setPicture(file);const reader=new FileReader();reader.onloadend=()=>{setImagePreview(reader.result);};reader.readAsDataURL(file);}else{setPicture(null);setImagePreview(null);}};const handleSubmit=async event=>{event.preventDefault();const formData=new FormData();formData.append(\"name\",name);formData.append(\"picture\",picture);formData.append(\"category\",category);formData.append(\"locationAnnex\",locationAnnex);formData.append(\"quantityAnnex\",quantityAnnex);formData.append(\"locationHQ\",locationHQ);formData.append(\"quantityHQ\",quantityHQ);try{await axios.put(\"http://localhost:3000/edit/item/\".concat(itemId),formData,{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\")),\"Content-Type\":\"multipart/form-data\"}});navigate(\"/ol-uniforms-inventory\");}catch(error){console.error(\"Error updating item:\",error);}};const goToInventory=()=>{navigate(\"/ol-uniforms-inventory\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"add-edit-ol-uniforms\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"back-icon-container\",children:[/*#__PURE__*/_jsx(FiArrowLeftCircle,{onClick:goToInventory,className:\"back-icon\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Edit OL Uniforms\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-fields\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:name,onChange:e=>setName(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Picture:\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"picture\",onChange:handleImageChange})]})]}),imagePreview&&/*#__PURE__*/_jsx(\"img\",{src:imagePreview,alt:\"Preview\",className:\"image-preview\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"location-quantity\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Location Annex:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"locationAnnex\",value:locationAnnex,onChange:e=>setLocationAnnex(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Quantity:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"quantityAnnex\",value:quantityAnnex,onChange:e=>setQuantityAnnex(e.target.value),required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"location-quantity\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Location HQ:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"locationHQ\",value:locationHQ,onChange:e=>setLocationHQ(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Quantity:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"quantityHQ\",value:quantityHQ,onChange:e=>setQuantityHQ(e.target.value),required:true})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Confirm\"})]})})]});}export default Edit_OL_Uniforms;","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","useNavigate","FiArrowLeftCircle","jsx","_jsx","jsxs","_jsxs","Edit_OL_Uniforms","itemId","name","setName","picture","setPicture","category","locationAnnex","setLocationAnnex","quantityAnnex","setQuantityAnnex","locationHQ","setLocationHQ","quantityHQ","setQuantityHQ","imagePreview","setImagePreview","navigate","fetchItem","response","get","concat","headers","Authorization","localStorage","getItem","item","data","location_annex","quantity_annex","location_hq","quantity_hq","image","error","console","handleImageChange","event","file","target","files","reader","FileReader","onloadend","result","readAsDataURL","handleSubmit","preventDefault","formData","FormData","append","put","goToInventory","className","children","onClick","onSubmit","type","value","onChange","e","required","src","alt"],"sources":["/Users/leonardomm/Desktop/SFSU/TL/SFSU_Orientation_2024_Logistics/App/src/Edit_OL_Uniforms.js"],"sourcesContent":["// Edit_OL_Uniforms.js\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { FiArrowLeftCircle } from \"react-icons/fi\";\nimport \"./Add_Edit_OL_Uniforms.css\";\n\nfunction Edit_OL_Uniforms() {\nconst { itemId } = useParams();\n  const [name, setName] = useState(\"\");\n  const [picture, setPicture] = useState(null);\n  const category = \"UNIFORMS\";\n  const [locationAnnex, setLocationAnnex] = useState(\"\");\n  const [quantityAnnex, setQuantityAnnex] = useState(0);\n  const [locationHQ, setLocationHQ] = useState(\"\");\n  const [quantityHQ, setQuantityHQ] = useState(0);\n  const [imagePreview, setImagePreview] = useState(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchItem = async () => {\n      try {\n        const response = await axios.get(`http://localhost:3000/items/${itemId}`, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        });\n        const item = response.data;\n        setName(item.name);\n        setLocationAnnex(item.location_annex);\n        setQuantityAnnex(item.quantity_annex);\n        setLocationHQ(item.location_hq);\n        setQuantityHQ(item.quantity_hq);\n        setImagePreview(item.image);\n      } catch (error) {\n        console.error(\"Error fetching item:\", error);\n      }\n    };\n\n    fetchItem();\n  }, [itemId]);\n\n  const handleImageChange = (event) => {\n    const file = event.target.files[0];\n    if (file) {\n      setPicture(file);\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setImagePreview(reader.result);\n      };\n      reader.readAsDataURL(file);\n    } else {\n      setPicture(null);\n      setImagePreview(null);\n    }\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"picture\", picture);\n    formData.append(\"category\", category);\n    formData.append(\"locationAnnex\", locationAnnex);\n    formData.append(\"quantityAnnex\", quantityAnnex);\n    formData.append(\"locationHQ\", locationHQ);\n    formData.append(\"quantityHQ\", quantityHQ);\n\n    try {\n      await axios.put(`http://localhost:3000/edit/item/${itemId}`, formData, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      });\n      navigate(\"/ol-uniforms-inventory\");\n    } catch (error) {\n      console.error(\"Error updating item:\", error);\n    }\n  };\n\n  const goToInventory = () => {\n    navigate(\"/ol-uniforms-inventory\");\n  };\n\n  return (\n    <div className=\"add-edit-ol-uniforms\">\n      <div className=\"back-icon-container\">\n        <FiArrowLeftCircle onClick={goToInventory} className=\"back-icon\" />\n        <h1 className=\"title\">Edit OL Uniforms</h1>\n      </div>\n      <div className=\"form-container\">\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <div className=\"form-fields\">\n              <label>\n                Name:\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                  required\n                />\n              </label>\n              <label>\n                Picture:\n                <input\n                  type=\"file\"\n                  name=\"picture\"\n                  onChange={handleImageChange}\n                />\n              </label>\n            </div>\n            {imagePreview && (\n              <img src={imagePreview} alt=\"Preview\" className=\"image-preview\" />\n            )}\n          </div>\n          <div className=\"location-quantity\">\n            <label>\n              Location Annex:\n              <input\n                type=\"text\"\n                name=\"locationAnnex\"\n                value={locationAnnex}\n                onChange={(e) => setLocationAnnex(e.target.value)}\n                required\n              />\n            </label>\n            <label>\n              Quantity:\n              <input\n                type=\"number\"\n                name=\"quantityAnnex\"\n                value={quantityAnnex}\n                onChange={(e) => setQuantityAnnex(e.target.value)}\n                required\n              />\n            </label>\n          </div>\n          <div className=\"location-quantity\">\n            <label>\n              Location HQ:\n              <input\n                type=\"text\"\n                name=\"locationHQ\"\n                value={locationHQ}\n                onChange={(e) => setLocationHQ(e.target.value)}\n                required\n              />\n            </label>\n            <label>\n              Quantity:\n              <input\n                type=\"number\"\n                name=\"quantityHQ\"\n                value={quantityHQ}\n                onChange={(e) => setQuantityHQ(e.target.value)}\n                required\n              />\n            </label>\n          </div>\n          <button type=\"submit\">Confirm</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Edit_OL_Uniforms;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}